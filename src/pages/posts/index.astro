---
import BaseLayout from "../../layouts/BaseLayout.astro";
import BlogPost from "../../components/BlogPost.astro";
import ContentCard from "../../components/ContentCard.astro";

const allPosts = await Astro.glob("./*.md");
const pageTitle = "Contents";
---

<BaseLayout pageTitle={pageTitle}>
  <div class="contents-main">
    <div class="contents-container">
      {
        allPosts.map((post) => (
          <ContentCard
            title={post.frontmatter.title}
            image={post.frontmatter.image}
            subtitle={post.frontmatter.subtitle}
            description={post.frontmatter.description}
            eventTag={post.frontmatter.eventTag}
            date={post.frontmatter.date}
            pageUrl={post.url}
          />
        ))
      }
    </div>
  </div>
</BaseLayout>
<style>
  .contents-main {
    display: flex;
    justify-content: center; /* 全体を中央寄せ */
  }

  /* ページ側: コンテナを中央に固定しグリッド化 */
  .contents-container {
    display: grid;
    grid-template-columns: repeat(2, minmax(280px, 1fr));
    gap: 1rem;
    max-width: 800px;
    width: 100%;
    padding-inline: 1rem;
    margin: 1rem auto;
    box-sizing: border-box;
    justify-content: center; /* 余白を左右均等 */
    justify-items: stretch; /* アイテムは列幅いっぱい */
  }
  @media (max-width: 635px) {
    .contents-container {
      grid-template-columns: 1fr;
    }
  }

  /* カード幅を明示 */
  .content-card {
    width: 100%;
    margin: 0;
  }
</style>
